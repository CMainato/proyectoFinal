{"version":3,"sources":["./src/app/search/search.page.html","./src/app/search/search.module.ts","./src/app/search/search.page.scss","./src/app/search/search.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,k7BAAk7B,aAAa,kqB;;;;;;;;;;;;;;;;;;;;;;ACAt5B;AACM;AACF;AACU;AAEV;AAEF;AAE3C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAWF,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAG;AAAnB,gBAAgB;IAT5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,uDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;ACzB7B,0BAA0B,mBAAmB,sBAAsB,uBAAuB,iBAAiB,mBAAmB,GAAG,6CAA6C,2xB;;;;;;;;;;;;;;;;;;ACApI;AACe;AAOzD,IAAa,UAAU,GAAvB,MAAa,UAAU;IAKrB,YAAoB,YAA0B;QAA1B,iBAAY,GAAZ,YAAY,CAAc;QAH9C,eAAU,GAAW,EAAE,CAAC;QACxB,cAAS,GAAG,KAAK,CAAC;IAE+B,CAAC;IAC5C,gBAAgB;;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACvE,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC;aAC/D;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;aACjB;YACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACzB,CAAC;KAAA;IAED,IAAI,CAAC,IAAI;QACP,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SACxB;QACD,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI,WAAW,CAAC,CAAC,CAAC,EAAE;YAClB,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;SAChC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC7C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;IACxB,CAAC;IACD,KAAK,CAAC,IAAI;QACR,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;CACF;;YA7BmC,oEAAY;;AALnC,UAAU;IALtB,+DAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,0IAAiC;;KAElC,CAAC;2EAMkC,oEAAY;GALnC,UAAU,CAkCtB;AAlCsB","file":"search-search-module-es2015.js","sourcesContent":["module.exports = \"<ion-header  >\\r\\n  <ion-toolbar text-center >\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-avatar class=\\\"header-avatar\\\">\\r\\n        <img src=\\\"assets/img/user.jpg\\\" alt=\\\"User Image\\\" />\\r\\n      </ion-avatar>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title text-center>\\r\\n      <img src=\\\"assets/img/logo.png\\\" alt=\\\"Platzi Logo\\\" height=\\\"32px\\\" />\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content padding color=\\\"dark\\\">\\r\\n  <ion-searchbar color =\\\"dark\\\"\\r\\n    [(ngModel)]=\\\"searchTerm\\\"\\r\\n    (ionChange)=\\\"setFilteredItems()\\\"\\r\\n  ></ion-searchbar>\\r\\n  <div *ngIf=\\\"searching\\\" class=\\\"spinner-container\\\" text-center>\\r\\n    <ion-spinner></ion-spinner>\\r\\n  </div>\\r\\n  <ion-virtual-scroll [items]=\\\"items\\\" approxItemHeight=\\\"50px\\\">\\r\\n    <ion-item *virtualItem=\\\"let item\\\">\\r\\n      {{ item.name }}\\r\\n      <ion-icon\\r\\n        *ngIf=\\\"!item.playing\\\"\\r\\n        name=\\\"play\\\"\\r\\n        slot=\\\"end\\\"\\r\\n        (click)=\\\"play(item)\\\"\\r\\n      ></ion-icon>\\r\\n      <ion-icon\\r\\n        *ngIf=\\\"item.playing\\\"\\r\\n        name=\\\"pause\\\"\\r\\n        slot=\\\"end\\\"\\r\\n        (click)=\\\"pause(item)\\\"\\r\\n      ></ion-icon>\\r\\n      <ion-spinner *ngIf=\\\"item.playing\\\" name=\\\"dots\\\" slot=\\\"end\\\"></ion-spinner>\\r\\n    </ion-item>\\r\\n  </ion-virtual-scroll>\\r\\n  <iframe src=\\\"https://open.spotify.com/embed/playlist/37i9dQZF1DX4pUKG1kS0Ac\\\" width=\\\"330\\\" height=\\\"320\\\" frameborder=\\\"0\\\"\\r\\n  allowtransparency=\\\"true\\\" allow=\\\"encrypted-media\\\"></iframe>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SearchPage } from './search.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SearchPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [SearchPage]\r\n})\r\nexport class SearchPageModule {}\r\n","module.exports = \"iframe {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 800px;\\n  height: 1000px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VhcmNoL0M6XFxVc2Vyc1xcdXN1YXJpb1xcRG9jdW1lbnRzXFxUb3BpY29zIEVzcGVjaWFsZXNcXHByb3llY3RvXFxNdXNpYy9zcmNcXGFwcFxcc2VhcmNoXFxzZWFyY2gucGFnZS5zY3NzIiwic3JjL2FwcC9zZWFyY2gvc2VhcmNoLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxpQkFBQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7QUNDTiIsImZpbGUiOiJzcmMvYXBwL3NlYXJjaC9zZWFyY2gucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaWZyYW1le1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgICB3aWR0aDogODAwcHg7XHJcbiAgICAgIGhlaWdodDogMTAwMHB4O1xyXG4gIH1cclxuICAiLCJpZnJhbWUge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgd2lkdGg6IDgwMHB4O1xuICBoZWlnaHQ6IDEwMDBweDtcbn0iXX0= */\"","import { Component } from \"@angular/core\";\r\nimport { MusicService } from \"../services/music.service\";\r\n\r\n@Component({\r\n  selector: \"app-search\",\r\n  templateUrl: \"./search.page.html\",\r\n  styleUrls: [\"./search.page.scss\"]\r\n})\r\nexport class SearchPage {\r\n  items: any;\r\n  searchTerm: string = \"\";\r\n  searching = false;\r\n  audioSong: HTMLAudioElement;\r\n  constructor(private musicService: MusicService) {}\r\n  async setFilteredItems() {\r\n    this.searching = true;\r\n    if (this.searchTerm) {\r\n      const response = await this.musicService.searchTracks(this.searchTerm);\r\n      this.items = response.tracks.items.filter(e => e.preview_url);\r\n    } else {\r\n      this.items = [];\r\n    }\r\n    this.searching = false;\r\n  }\r\n\r\n  play(song) {\r\n    console.log(song);\r\n    if (this.audioSong) {\r\n      this.audioSong.pause();\r\n    }\r\n    const currentSong = this.items.filter(e => e.playing);\r\n    if (currentSong[0]) {\r\n      currentSong[0].playing = false;\r\n    }\r\n    song.playing = true;\r\n    this.audioSong = new Audio(song.preview_url);\r\n    this.audioSong.play();\r\n  }\r\n  pause(song) {\r\n    this.audioSong.pause();\r\n    song.playing = false;\r\n  }\r\n}\r\n"],"sourceRoot":""}